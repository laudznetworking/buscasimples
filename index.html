<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuscaFIERGS</title>

    <!-- Favicon: substitua pelo √≠cone definitivo -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- Tailwind CDN (utilit√°rios) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FontAwesome (√≠cones) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Estilos compartilhados -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="text-slate-100 min-h-screen antialiased">

    <!-- Efeito scanlines de monitor antigo -->
    <div class="scanlines"></div>

    <!-- Barra de progresso de scroll (lateral esquerda) -->
    <div id="scrollProgressBar"
         class="fixed top-0 left-0 w-1 bg-red-600 shadow-[0_0_15px_rgba(239,68,68,0.8)] z-[1000] transition-all duration-150"
         style="height: 0%">
    </div>

    <!-- Terminal fict√≠cio decorativo ao fundo -->
    <div id="terminal-bg"
         class="absolute inset-0 p-8 overflow-hidden pointer-events-none opacity-[0.15]
                font-ip text-[11px] leading-loose text-red-500 z-0">
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         TELA DE LOADING
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="loadingScreen"
         style="display:none;"
         class="fixed inset-0 bg-[#050505]/98 backdrop-blur-xl flex flex-col
                items-center justify-center z-[500] transition-opacity duration-300">

        <div class="relative w-20 h-20 flex items-center justify-center mb-6">
            <div class="absolute inset-0 border-4 border-red-600/20 rounded-full"></div>
            <div class="absolute inset-0 border-4 border-red-600 border-t-transparent rounded-full animate-spin"></div>
            <i class="fas fa-satellite-dish text-red-500 animate-pulse text-xl"></i>
        </div>

        <p id="loadingText"
           class="text-red-500 font-ip animate-pulse tracking-[0.3em] uppercase text-sm font-bold mb-6">
            Sincronizando Datacenter
        </p>

        <div class="w-80 md:w-96 h-32 bg-black/50 border border-white/5 rounded-sm p-4
                    overflow-hidden relative shadow-[inset_0_0_20px_rgba(0,0,0,0.8)]">
            <div id="loadingLogs"
                 class="flex flex-col justify-end h-full space-y-2 font-ip text-[10px] md:text-xs">
            </div>
            <div class="absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-black/50 to-transparent pointer-events-none"></div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         TELA PRINCIPAL
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="mainScreen" class="hidden container mx-auto px-4 py-8 max-w-7xl relative z-10">

        <!-- ‚îÄ‚îÄ Header ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <header class="glass-card flex flex-col md:flex-row justify-between items-center mb-10 p-5 rounded-lg shadow-2xl">
            <div class="flex items-center gap-5">
                <div id="headerIconBg"
                     class="bg-gradient-to-br from-red-600 to-red-800 p-4 rounded
                            shadow-[0_5px_20px_rgba(239,68,68,0.3)] transition-colors duration-500 border border-white/10">
                    <img src="https://static.wixstatic.com/media/1eccce_033571f75dd94c889047ae85c8c41683~mv2.png/v1/fill/w_180,h_127,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/1eccce_033571f75dd94c889047ae85c8c41683~mv2.png"
                         alt="logo" class="w-12 h-8 object-contain">
                </div>
                <div>
                    <h2 id="mainTitle" class="text-3xl font-black uppercase tracking-tight text-white drop-shadow-md">
                        BUSCAR<span class="text-red-500 font-light">FIERGS</span>
                    </h2>
                    <div class="flex items-center gap-3 mt-1">
                        <div class="flex items-center gap-2 bg-black/40 px-3 py-1 rounded border border-white/5">
                            <div class="w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_#10b981] animate-pulse"></div>
                            <p id="userBadge" class="text-slate-400 text-[10px] font-ip uppercase tracking-widest"></p>
                        </div>
                        <p id="totalClientes" class="text-slate-500 text-[10px] font-ip uppercase tracking-widest"></p>
                    </div>
                </div>
            </div>

            <!-- Bot√µes de a√ß√£o no header -->
            <div class="flex flex-wrap items-center justify-end gap-1.5 mt-6 md:mt-0">
                <button onclick="alternarPagina()"
                        class="btn-modern bg-[#0a1945]/40 hover:bg-blue-600/20 text-blue-400 hover:text-blue-300
                               px-3 py-2.5 rounded text-[10px] font-black border border-blue-500/20
                               flex items-center gap-1.5 transition-all backdrop-blur-md">
                    <i class="fas fa-exchange-alt"></i>
                    <span id="btnNavText">MODO MIKROTIK</span>
                </button>

                <div class="w-[1px] h-6 bg-white/10 hidden md:block mx-0.5"></div>

                <button onclick="window.open('https://201.48.248.250:4443/', '_blank')"
                        class="btn-modern bg-black/40 hover:bg-slate-800 text-slate-300 px-3 py-2.5
                               rounded text-[10px] font-bold border border-white/5 flex items-center gap-1.5 transition-all">
                    <i class="fas fa-network-wired text-purple-500"></i> CONCENTRADOR
                </button>

                <!-- Vis√≠vel apenas para admins -->
                <button id="adminBtn" onclick="verLogs()"
                        class="hidden btn-modern bg-black/40 hover:bg-slate-800 text-slate-300 px-3 py-2.5
                               rounded text-[10px] font-bold border border-white/5 flex items-center gap-1.5 transition-all">
                    <i class="fas fa-terminal text-red-500"></i> ADMIN
                </button>

                <button id="btnNoc" onclick="toggleModoNoc()"
                        class="btn-modern bg-black/40 hover:bg-slate-800 text-slate-300 px-3 py-2.5
                               rounded text-[10px] font-bold border border-white/5 flex items-center gap-1.5 transition-all">
                    <i class="fas fa-satellite-dish"></i> AUTO: OFF
                </button>

                <button onclick="abrirTerminal()"
                        class="btn-modern bg-[#0a0a0a] hover:bg-black text-emerald-500 px-3 py-2.5 rounded
                               text-[10px] font-bold border border-emerald-500/20 flex items-center gap-1.5
                               transition-all shadow-[0_0_15px_rgba(16,185,129,0.1)] hover:shadow-[0_0_20px_rgba(16,185,129,0.3)]">
                    <i class="fas fa-terminal"></i> PING
                </button>

                <!-- Vis√≠vel apenas para admins -->
                <button id="addBtn" onclick="abrirModal('novo')"
                        class="hidden btn-modern bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400
                               hover:text-emerald-300 px-3 py-2.5 rounded text-[10px] font-black
                               border border-emerald-500/20 flex items-center gap-1.5 transition-all">
                    <i class="fas fa-plus"></i> NOVO
                </button>

                <button onclick="fazerLogout()"
                        class="btn-modern bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300
                               w-9 h-9 flex items-center justify-center rounded border border-red-500/20 transition-all">
                    <i class="fas fa-power-off text-sm"></i>
                </button>
            </div>
        </header>

        <!-- ‚îÄ‚îÄ Dashboard NOC ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div id="nocDashboard" class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-10 animate-[fadeIn_1s_ease-out]">
            <div class="glass-card p-5 rounded-md flex items-center gap-4 border-t border-t-slate-500/30">
                <div class="bg-gradient-to-br from-slate-700 to-slate-900 w-12 h-12 rounded-sm flex items-center justify-center shadow-lg border border-white/5">
                    <i class="fas fa-server text-slate-300"></i>
                </div>
                <div>
                    <p class="text-[10px] uppercase text-slate-400 font-black tracking-widest mb-1">Total</p>
                    <p id="statTotal" class="text-2xl font-black font-ip text-white leading-none">0</p>
                </div>
            </div>
            <div class="glass-card p-5 rounded-md flex items-center gap-4 border-t border-t-emerald-500/50">
                <div class="bg-gradient-to-br from-emerald-500/20 to-emerald-900/40 w-12 h-12 rounded-sm flex items-center justify-center shadow-lg border border-emerald-500/20">
                    <i class="fas fa-check-circle text-emerald-400"></i>
                </div>
                <div>
                    <p class="text-[10px] uppercase text-emerald-500 font-black tracking-widest mb-1">Online</p>
                    <p id="statOnline" class="text-2xl font-black font-ip text-emerald-400 leading-none drop-shadow-[0_0_10px_rgba(16,185,129,0.3)]">0</p>
                </div>
            </div>
            <div class="glass-card p-5 rounded-md flex items-center gap-4 border-t border-t-red-500/50">
                <div class="bg-gradient-to-br from-red-500/20 to-red-900/40 w-12 h-12 rounded-sm flex items-center justify-center shadow-lg border border-red-500/20">
                    <i class="fas fa-exclamation-triangle text-red-400"></i>
                </div>
                <div>
                    <p class="text-[10px] uppercase text-red-500 font-black tracking-widest mb-1">Offline</p>
                    <p id="statOffline" class="text-2xl font-black font-ip text-red-400 leading-none drop-shadow-[0_0_10px_rgba(239,68,68,0.3)]">0</p>
                </div>
            </div>
            <div class="glass-card p-5 rounded-md flex items-center gap-4 border-t border-t-blue-500/50">
                <div class="bg-gradient-to-br from-blue-500/20 to-blue-900/40 w-12 h-12 rounded-sm flex items-center justify-center shadow-lg border border-blue-500/20">
                    <i class="fas fa-wave-square text-blue-400"></i>
                </div>
                <div>
                    <p class="text-[10px] uppercase text-blue-400 font-black tracking-widest mb-1">SLA Ativo</p>
                    <p id="statUptime" class="text-2xl font-black font-ip text-blue-400 leading-none">--%</p>
                </div>
            </div>
            <div class="glass-card p-5 rounded-md flex items-center gap-4 border-t border-t-purple-500/50">
                <div class="bg-gradient-to-br from-purple-500/20 to-purple-900/40 w-12 h-12 rounded-sm flex items-center justify-center shadow-lg border border-purple-500/20">
                    <i class="fas fa-user-shield text-purple-400"></i>
                </div>
                <div>
                    <p class="text-[10px] uppercase text-purple-400 font-black tracking-widest mb-1">Users Online</p>
                    <p id="statUsuarios" class="text-2xl font-black font-ip text-purple-400 leading-none">1</p>
                </div>
            </div>
        </div>

        <!-- ‚îÄ‚îÄ Barra de Busca ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div class="relative mb-12 group">
            <div class="absolute inset-0 bg-gradient-to-r from-red-600/20 to-transparent rounded-lg blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            <i id="searchIcon"
               class="fas fa-search absolute left-8 top-1/2 -translate-y-1/2 text-red-500 text-2xl transition-colors duration-500 z-10"></i>
            <input type="text" id="searchBox" oninput="buscarNoBanco()"
                   class="relative w-full bg-black/50 backdrop-blur-md border border-white/10 py-7 pl-20 pr-8
                          rounded-lg text-xl shadow-2xl outline-none transition-all red-glow-input
                          placeholder-slate-600 font-ip"
                   placeholder="Localizar ativo na rede (Nome ou Contrato)...">
        </div>

        <!-- ‚îÄ‚îÄ Filtros de Status ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div id="filtroStatusNoc" class="flex flex-wrap gap-3 mb-8 animate-[fadeIn_0.8s_ease-out]">
            <button onclick="aplicarFiltroStatus('todos')" id="btnFiltroTodos"
                    class="btn-modern bg-white/10 text-white px-5 py-2 rounded-sm text-[10px] font-black
                           tracking-widest uppercase border border-white/20 transition-all shadow-lg">Todos</button>
            <button onclick="aplicarFiltroStatus('online')" id="btnFiltroOnline"
                    class="btn-modern bg-black/40 hover:bg-emerald-500/20 text-slate-500 hover:text-emerald-400
                           px-5 py-2 rounded-sm text-[10px] font-black tracking-widest uppercase border border-white/5 transition-all">Online</button>
            <button onclick="aplicarFiltroStatus('offline')" id="btnFiltroOffline"
                    class="btn-modern bg-black/40 hover:bg-red-500/20 text-slate-500 hover:text-red-400
                           px-5 py-2 rounded-sm text-[10px] font-black tracking-widest uppercase border border-white/5 transition-all">Offline</button>
            <button onclick="aplicarFiltroStatus('manutencao')" id="btnFiltroManutencao"
                    class="btn-modern bg-black/40 hover:bg-amber-500/20 text-slate-500 hover:text-amber-400
                           px-5 py-2 rounded-sm text-[10px] font-black tracking-widest uppercase border border-white/5 transition-all">
                <i class="fas fa-tools mr-1"></i> Manuten√ß√£o
            </button>
        </div>

        <!-- ‚îÄ‚îÄ Grade de Resultados ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div id="resultsGrid" class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div>

        <!-- ‚îÄ‚îÄ Rodap√© ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <footer class="mt-24 mb-10 text-center relative z-10">
            <div class="inline-flex items-center gap-6 px-10 py-4 bg-black/60 backdrop-blur-xl
                        border border-white/5 rounded shadow-[0_10px_40px_rgba(0,0,0,0.5)]">
                <span class="text-slate-500 text-[10px] uppercase tracking-[0.5em] font-bold">Desenvolvido por</span>
                <div class="h-6 w-[2px] bg-gradient-to-b from-red-600 to-transparent"></div>
                <span class="text-white font-black tracking-widest text-lg uppercase drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]">Endrew</span>
            </div>
        </footer>
    </div>

    <!-- ‚îÄ‚îÄ Bot√£o Voltar ao Topo ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <button id="btnVoltarTopo" onclick="voltarAoTopo()"
            class="fixed bottom-28 right-8 z-[490] btn-modern bg-black/60 backdrop-blur-md border
                   border-white/10 text-slate-400 hover:text-white hover:border-red-500 w-12 h-12 rounded-sm
                   flex items-center justify-center shadow-[0_10px_30px_rgba(0,0,0,0.5)]
                   transition-all duration-300 opacity-0 pointer-events-none translate-y-4 group">
        <i class="fas fa-chevron-up group-hover:-translate-y-1 transition-transform"></i>
    </button>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         MODAL: TERMINAL DE PING
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="modalTerminal"
         class="hidden fixed inset-0 bg-[#050505]/95 backdrop-blur-md flex items-center justify-center z-[400] p-4">
        <div id="terminalJanela"
             class="glass-card w-full max-w-2xl rounded-lg border border-white/10
                    shadow-[0_0_50px_rgba(0,0,0,0.8)] overflow-hidden flex flex-col
                    transform transition-all duration-300 scale-95 opacity-0">

            <!-- Barra de t√≠tulo -->
            <div class="bg-black/80 px-6 py-4 border-b border-white/10 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <i class="fas fa-terminal text-emerald-500"></i>
                    <h3 class="text-emerald-500 font-ip font-bold tracking-widest text-sm uppercase">Terminal Suporte</h3>
                </div>
                <button onclick="fecharTerminal()"
                        class="text-slate-500 hover:text-red-500 transition-colors w-8 h-8 flex items-center justify-center rounded-sm hover:bg-white/5">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Linha de input do terminal -->
            <div class="p-4 bg-[#0a0a0a] border-b border-white/5 flex gap-3 flex-wrap sm:flex-nowrap">
                <span class="text-emerald-500 font-ip self-center text-xs md:text-sm">root@vetorial:~#</span>
                <input type="text" id="ipTerminal"
                       placeholder="IP (ex: 8.8.8.8) e Enter..."
                       class="flex-1 bg-transparent outline-none text-white font-ip text-sm placeholder-slate-700 min-w-[150px]"
                       onkeypress="if(event.key === 'Enter') rodarPing()">
                <button onclick="rodarPing()"
                        class="bg-emerald-600/20 hover:bg-emerald-600 text-emerald-500 hover:text-white
                               px-5 py-2 rounded-sm font-ip text-xs transition-colors border border-emerald-500/30">
                    EXECUTAR
                </button>
            </div>

            <!-- √Årea de output do terminal -->
            <div id="telaTerminal"
                 class="bg-[#050505] h-80 p-5 overflow-y-auto font-ip text-xs md:text-sm text-slate-300 space-y-1 scroll-smooth">
                <div class="text-slate-600 mb-2">Suporte Ping (v0.0.1) - Ping Utility</div>
                <div class="text-slate-500">Pronto para iniciar testes de lat√™ncia...</div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         MODAL: CADASTRO / EDI√á√ÉO DE REGISTRO
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="modalCadastro"
         class="hidden fixed inset-0 bg-[#050505]/90 backdrop-blur-md flex items-center justify-center z-[300] p-4">
        <div id="modalBorder"
             class="glass-card w-full max-w-lg p-10 rounded-lg border-t-4 border-red-600
                    shadow-[0_0_50px_rgba(0,0,0,0.8)] transition-colors duration-500">

            <div class="flex justify-between items-center mb-10 border-b border-white/5 pb-6">
                <h2 id="modalTitle" class="text-3xl font-black uppercase text-white tracking-tight">Registro Firewall</h2>
                <button onclick="fecharModal()"
                        class="bg-white/5 hover:bg-white/10 w-10 h-10 rounded-sm flex items-center
                               justify-center text-slate-400 hover:text-white transition-all">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <form id="formGeral" class="space-y-6">
                <div class="relative">
                    <label class="absolute -top-3 left-4 bg-[#0d121c] px-2 text-[10px] font-black tracking-widest text-slate-400 uppercase">Identifica√ß√£o</label>
                    <input type="text" id="cadNome" required placeholder="Nome do Cliente"
                           class="w-full bg-black/30 border border-white/10 p-5 rounded outline-none text-white
                                  uppercase focus:border-red-500 transition-colors font-ip text-sm">
                </div>
                <div class="relative">
                    <label class="absolute -top-3 left-4 bg-[#0d121c] px-2 text-[10px] font-black tracking-widest text-slate-400 uppercase">Contrato</label>
                    <input type="text" id="cadContrato" placeholder="N¬∫ do Contrato"
                           class="w-full bg-black/30 border border-white/10 p-5 rounded outline-none text-white
                                  uppercase focus:border-red-500 transition-colors font-ip text-sm">
                </div>
                <!-- Campos din√¢micos injetados por abrirModal() dependendo do modo -->
                <div id="camposDinamicos" class="space-y-6 pt-2"></div>

                <button type="submit" id="btnSubmitModal"
                        class="btn-modern w-full bg-gradient-to-r from-red-700 to-red-600
                               hover:from-red-600 hover:to-red-500 py-5 rounded font-black text-white
                               transition-all uppercase tracking-widest text-sm
                               shadow-[0_10px_20px_rgba(0,0,0,0.3)] mt-8">
                    Sincronizar Dados <i class="fas fa-cloud-upload-alt ml-2"></i>
                </button>
            </form>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         CHAT FLUTUANTE
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="chatContainer" class="fixed bottom-8 right-8 z-[500] flex flex-col items-end">

        <!-- Janela do chat -->
        <div id="chatWindow"
             class="hidden glass-card w-80 lg:w-96 h-[500px] mb-6 flex flex-col rounded-lg
                    border border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.8)] overflow-hidden">
            <div class="p-5 bg-gradient-to-r from-red-900/40 to-black border-b border-white/5
                        flex justify-between items-center backdrop-blur-md">
                <h4 class="text-xs font-black uppercase tracking-widest text-white flex items-center gap-3">
                    <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                    Comunica√ß√£o Suporte
                </h4>
                <button onclick="toggleChat()" class="text-slate-400 hover:text-white transition-colors">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>
            <div id="chatMessages"
                 class="flex-1 p-5 overflow-y-auto space-y-4 font-ip text-xs bg-black/40 scroll-smooth">
                <div class="text-slate-500 text-center uppercase tracking-widest text-[9px] font-bold my-4 border-b border-white/5 pb-4">
                    Conex√£o Segura Estabelecida
                </div>
            </div>
            <div class="p-4 bg-black/60 border-t border-white/5 backdrop-blur-md">
                <div class="relative flex items-center">
                    <input type="text" id="chatInput" placeholder="Transmitir mensagem..."
                           class="w-full bg-white/5 border border-white/10 p-4 rounded-sm outline-none
                                  focus:border-red-500/50 transition-colors text-xs text-white pr-12 font-ip">
                    <button onclick="enviarMensagem()"
                            class="absolute right-2 bg-red-600 hover:bg-red-500 w-10 h-10 rounded-lg
                                   text-white flex items-center justify-center transition-colors">
                        <i class="fas fa-paper-plane text-xs"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Bot√£o flutuante do chat -->
        <button onclick="toggleChat()"
                class="btn-modern bg-gradient-to-br from-red-700 to-red-900 hover:from-red-600 hover:to-red-800
                       text-white w-16 h-16 rounded-sm flex items-center justify-center
                       shadow-[0_10px_30px_rgba(239,68,68,0.4)] transition-all border border-red-500/30 group">
            <i class="fas fa-comment-alt text-2xl group-hover:scale-110 transition-transform"></i>
        </button>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         PAINEL ADMINISTRATIVO
         Abas: Logs | Ranking | Usu√°rios | Auditoria | Dados | Sistema
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="modalLogs"
         class="hidden fixed inset-0 bg-[#050505]/95 backdrop-blur-md flex items-center justify-center z-[450] p-4">
        <div class="glass-card w-full max-w-5xl rounded-lg border border-white/10
                    shadow-[0_0_50px_rgba(0,0,0,0.8)] flex flex-col max-h-[90vh]">

            <!-- Cabe√ßalho -->
            <div class="flex justify-between items-center px-6 py-4 border-b border-white/5 shrink-0">
                <div class="flex items-center gap-3">
                    <i class="fas fa-shield-alt text-red-500"></i>
                    <h3 class="text-white font-black uppercase tracking-widest text-sm">Painel Administrativo</h3>
                    <span class="text-[10px] font-ip text-slate-600 border border-white/5 px-2 py-0.5 rounded-sm">v1.0</span>
                </div>
                <button onclick="fecharModalLogs()"
                        class="text-slate-500 hover:text-red-400 transition-colors w-8 h-8 flex items-center justify-center rounded-sm hover:bg-white/5">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Abas de navega√ß√£o -->
            <div class="flex border-b border-white/5 shrink-0 overflow-x-auto">
                <button id="abaLogs"      onclick="trocarAba('logs')"      class="admin-aba ativa   px-5 py-3 text-[10px] font-black tracking-widest uppercase whitespace-nowrap border-b-2 transition-all"><i class="fas fa-list-alt mr-2"></i>Logs</button>
                <button id="abaRanking"   onclick="trocarAba('ranking')"   class="admin-aba inativa px-5 py-3 text-[10px] font-black tracking-widest uppercase whitespace-nowrap border-b-2 transition-all"><i class="fas fa-trophy mr-2"></i>Ranking</button>
                <button id="abaUsuarios"  onclick="trocarAba('usuarios')"  class="admin-aba inativa px-5 py-3 text-[10px] font-black tracking-widest uppercase whitespace-nowrap border-b-2 transition-all"><i class="fas fa-users mr-2"></i>Usu√°rios</button>
                <button id="abaAuditoria" onclick="trocarAba('auditoria')" class="admin-aba inativa px-5 py-3 text-[10px] font-black tracking-widest uppercase whitespace-nowrap border-b-2 transition-all"><i class="fas fa-history mr-2"></i>Auditoria</button>
                <button id="abaDados"     onclick="trocarAba('dados')"     class="admin-aba inativa px-5 py-3 text-[10px] font-black tracking-widest uppercase whitespace-nowrap border-b-2 transition-all"><i class="fas fa-database mr-2"></i>Dados</button>
                <button id="abaSistema"   onclick="trocarAba('sistema')"   class="admin-aba inativa px-5 py-3 text-[10px] font-black tracking-widest uppercase whitespace-nowrap border-b-2 transition-all"><i class="fas fa-cog mr-2"></i>Sistema</button>
            </div>

            <!-- Spinner de loading das abas -->
            <div id="logsLoading"
                 class="hidden items-center justify-center gap-3 py-12 font-ip text-slate-500 text-xs shrink-0">
                <i class="fas fa-sync-alt animate-spin text-red-500"></i> Carregando...
            </div>

            <!-- ABA: Logs -->
            <div id="painelLogs" class="overflow-y-auto flex-1">
                <table class="w-full text-left">
                    <thead class="sticky top-0 bg-[#0a0f1a] border-b border-white/10">
                        <tr>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">Data / Hora</th>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">Termo Buscado</th>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">Usu√°rio</th>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">M√≥dulo</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaLogs" class="font-ip divide-y divide-white/5"></tbody>
                </table>
            </div>

            <!-- ABA: Ranking -->
            <div id="painelRanking" class="hidden overflow-y-auto flex-1 p-6">
                <div id="conteudoRanking"></div>
            </div>

            <!-- ABA: Usu√°rios -->
            <div id="painelUsuarios" class="hidden overflow-y-auto flex-1 p-6">
                <!-- Broadcast de aviso global -->
                <div class="mb-6 bg-black/40 border border-white/5 rounded-sm p-4">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-3 flex items-center gap-2">
                        <i class="fas fa-broadcast-tower text-red-500"></i> Broadcast ‚Äî Aviso para Todos
                    </p>
                    <div class="flex gap-3">
                        <input type="text" id="inputBroadcast"
                               placeholder="Digite o aviso a ser exibido para todos..."
                               class="flex-1 bg-black/40 border border-white/10 py-3 px-4 rounded-sm outline-none
                                      text-sm text-white placeholder-slate-600 font-ip focus:border-red-500/50 transition-colors">
                        <button onclick="enviarBroadcast()"
                                class="btn-modern bg-red-600/20 hover:bg-red-600 border border-red-500/30
                                       text-red-400 hover:text-white px-5 py-3 rounded-sm text-xs font-black
                                       uppercase tracking-widest transition-all">
                            <i class="fas fa-paper-plane mr-2"></i> Enviar
                        </button>
                    </div>
                </div>

                <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-3 flex items-center gap-2">
                    <i class="fas fa-users text-slate-600"></i> Usu√°rios Cadastrados
                </p>
                <div id="listaUsuarios" class="space-y-2">
                    <p class="text-slate-600 font-ip text-xs py-4 text-center">Carregando...</p>
                </div>
            </div>

            <!-- ABA: Auditoria -->
            <div id="painelAuditoria" class="hidden overflow-y-auto flex-1 p-6">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-black/40 border border-white/5 rounded-sm p-4">
                        <p class="text-[10px] uppercase text-slate-500 font-black tracking-widest mb-1">Total de Edi√ß√µes</p>
                        <p id="statEdicoes" class="text-3xl font-black font-ip text-white">‚Äî</p>
                    </div>
                    <div class="bg-black/40 border border-emerald-500/10 rounded-sm p-4">
                        <p class="text-[10px] uppercase text-emerald-500 font-black tracking-widest mb-1">Inser√ß√µes</p>
                        <p id="statInsercoes" class="text-3xl font-black font-ip text-emerald-400">‚Äî</p>
                    </div>
                    <div class="bg-black/40 border border-amber-500/10 rounded-sm p-4">
                        <p class="text-[10px] uppercase text-amber-500 font-black tracking-widest mb-1">Atualiza√ß√µes</p>
                        <p id="statAtualizacoes" class="text-3xl font-black font-ip text-amber-400">‚Äî</p>
                    </div>
                </div>
                <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-3 flex items-center gap-2">
                    <i class="fas fa-history text-slate-600"></i> Hist√≥rico de Edi√ß√µes
                </p>
                <table class="w-full text-left">
                    <thead class="bg-[#0a0f1a] border-b border-white/10">
                        <tr>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">Data</th>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">A√ß√£o</th>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">Registro</th>
                            <th class="py-3 px-4 text-[10px] font-black tracking-widest uppercase text-slate-500">Usu√°rio</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaAuditoria" class="font-ip divide-y divide-white/5"></tbody>
                </table>
            </div>

            <!-- ABA: Dados -->
            <div id="painelDados" class="hidden overflow-y-auto flex-1 p-6 space-y-6">

                <!-- Exportar CSV -->
                <div class="bg-black/40 border border-white/5 rounded-sm p-5">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-1 flex items-center gap-2">
                        <i class="fas fa-file-export text-emerald-500"></i> Exportar Dados
                    </p>
                    <p class="text-slate-500 text-xs font-ip mb-4">Baixa todos os registros em formato CSV.</p>
                    <div class="flex gap-3">
                        <button onclick="exportarCSV('clientes')"
                                class="btn-modern bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20
                                       text-emerald-400 px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all">
                            <i class="fas fa-download mr-2"></i> CSV Clientes FIERGS
                        </button>
                        <button onclick="exportarCSV('mikrotik')"
                                class="btn-modern bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20
                                       text-blue-400 px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all">
                            <i class="fas fa-download mr-2"></i> CSV Mikrotik
                        </button>
                    </div>
                </div>

                <!-- Importar CSV -->
                <div class="bg-black/40 border border-white/5 rounded-sm p-5">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-1 flex items-center gap-2">
                        <i class="fas fa-file-import text-blue-400"></i> Importar em Lote (CSV)
                    </p>
                    <p class="text-slate-500 text-xs font-ip mb-1">Colunas esperadas para <span class="text-red-400">Clientes</span>: <span class="text-slate-400 font-ip">nome, numero_contrato, ip_mpls, ip_fortigate</span></p>
                    <p class="text-slate-500 text-xs font-ip mb-4">Colunas esperadas para <span class="text-blue-400">Mikrotik</span>: <span class="text-slate-400 font-ip">nome, numero_contrato, ip_mikrotik</span></p>
                    <div class="flex flex-wrap gap-3 items-center">
                        <select id="importarModulo"
                                class="bg-black/60 border border-white/10 text-white text-xs font-ip py-3 px-4 rounded-sm outline-none focus:border-red-500/50">
                            <option value="clientes">Clientes FIERGS</option>
                            <option value="mikrotik">Mikrotik</option>
                        </select>
                        <label class="btn-modern bg-white/5 hover:bg-white/10 border border-white/10 text-slate-300
                                      px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all cursor-pointer">
                            <i class="fas fa-folder-open mr-2"></i> Selecionar CSV
                            <input type="file" id="inputCSV" accept=".csv" class="hidden" onchange="preVisualizarCSV()">
                        </label>
                    </div>
                    <div id="previewCSV" class="hidden mt-4 bg-black/60 border border-white/5 rounded-sm p-4">
                        <div class="flex justify-between items-center mb-3">
                            <p id="previewInfo" class="text-[11px] font-ip text-slate-400"></p>
                            <button onclick="confirmarImportacao()"
                                    class="btn-modern bg-emerald-600/20 hover:bg-emerald-600 border border-emerald-500/30
                                           text-emerald-400 hover:text-white px-4 py-2 rounded-sm text-xs font-black
                                           uppercase tracking-widest transition-all">
                                <i class="fas fa-check mr-2"></i> Confirmar Importa√ß√£o
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead><tr id="previewHeader" class="border-b border-white/10"></tr></thead>
                                <tbody id="previewBody" class="font-ip text-[11px] divide-y divide-white/5"></tbody>
                            </table>
                        </div>
                    </div>
                    <div id="resultadoImportacao" class="hidden mt-3 text-[11px] font-ip px-4 py-3 rounded-sm border"></div>
                </div>

                <!-- Detectar Duplicatas -->
                <div class="bg-black/40 border border-white/5 rounded-sm p-5">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-1 flex items-center gap-2">
                        <i class="fas fa-clone text-amber-400"></i> Detectar Duplicatas
                    </p>
                    <p class="text-slate-500 text-xs font-ip mb-4">Verifica registros com o mesmo IP ou contrato cadastrado mais de uma vez.</p>
                    <button onclick="detectarDuplicatas()"
                            class="btn-modern bg-amber-500/10 hover:bg-amber-500/20 border border-amber-500/20
                                   text-amber-400 px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all">
                        <i class="fas fa-search mr-2"></i> Analisar Agora
                    </button>
                    <div id="resultadoDuplicatas" class="mt-4 space-y-2"></div>
                </div>
            </div>

            <!-- ABA: Sistema -->
            <div id="painelSistema" class="hidden overflow-y-auto flex-1 p-6 space-y-6">

                <!-- Intervalo AUTO NOC -->
                <div class="bg-black/40 border border-white/5 rounded-sm p-5">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-1 flex items-center gap-2">
                        <i class="fas fa-satellite-dish text-emerald-500"></i> Intervalo do Modo AUTO (NOC)
                    </p>
                    <p class="text-slate-500 text-xs font-ip mb-4">Define de quantos em quantos segundos o sistema verifica o status dos hosts automaticamente.</p>
                    <div class="flex items-center gap-4">
                        <input type="range" id="sliderNoc" min="10" max="300" step="10" value="30"
                               oninput="document.getElementById('valorNoc').textContent = this.value + 's'"
                               class="flex-1 accent-red-500 cursor-pointer">
                        <span id="valorNoc" class="font-ip text-white font-black text-lg w-16 text-right">30s</span>
                        <button onclick="salvarIntervaloNoc()"
                                class="btn-modern bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20
                                       text-emerald-400 px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all">
                            Salvar
                        </button>
                    </div>
                </div>

                <!-- Limites de lat√™ncia -->
                <div class="bg-black/40 border border-white/5 rounded-sm p-5">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-1 flex items-center gap-2">
                        <i class="fas fa-tachometer-alt text-blue-400"></i> Limites de Lat√™ncia (ms)
                    </p>
                    <p class="text-slate-500 text-xs font-ip mb-4">Define os thresholds que determinam a cor do indicador de ping.</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-[10px] text-emerald-400 font-black uppercase tracking-widest block mb-2">üü¢ Verde ‚Äî abaixo de (ms)</label>
                            <input type="number" id="limiteVerde" value="80" min="1" max="999"
                                   class="w-full bg-black/40 border border-white/10 py-3 px-4 rounded-sm outline-none
                                          text-white font-ip text-sm focus:border-emerald-500/50 transition-colors">
                        </div>
                        <div>
                            <label class="text-[10px] text-yellow-400 font-black uppercase tracking-widest block mb-2">üü° Amarelo ‚Äî abaixo de (ms)</label>
                            <input type="number" id="limiteAmarelo" value="150" min="1" max="9999"
                                   class="w-full bg-black/40 border border-white/10 py-3 px-4 rounded-sm outline-none
                                          text-white font-ip text-sm focus:border-yellow-500/50 transition-colors">
                        </div>
                    </div>
                    <p class="text-slate-600 text-[10px] font-ip mt-2">Acima do limite amarelo = üî¥ Vermelho</p>
                    <button onclick="salvarLimitesLatencia()"
                            class="btn-modern bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/20
                                   text-blue-400 px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all mt-4">
                        Aplicar Limites
                    </button>
                    <span id="feedbackLatencia" class="text-[11px] font-ip text-emerald-400 ml-3 hidden">‚úì Salvo!</span>
                </div>

                <!-- Limpar chat -->
                <div class="bg-black/40 border border-red-500/10 rounded-sm p-5">
                    <p class="text-[10px] font-black tracking-widest uppercase text-slate-500 mb-1 flex items-center gap-2">
                        <i class="fas fa-trash text-red-500"></i> Limpar Hist√≥rico do Chat
                    </p>
                    <p class="text-slate-500 text-xs font-ip mb-4">Remove todas as mensagens vis√≠veis no chat desta sess√£o. N√£o afeta outros usu√°rios.</p>
                    <button onclick="limparHistoricoChat()"
                            class="btn-modern bg-red-500/10 hover:bg-red-500/20 border border-red-500/20
                                   text-red-400 px-5 py-3 rounded-sm text-xs font-black uppercase tracking-widest transition-all">
                        <i class="fas fa-broom mr-2"></i> Limpar Chat
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- L√≥gica principal da aplica√ß√£o -->
    <script src="app.js"></script>
</body>
</html>
